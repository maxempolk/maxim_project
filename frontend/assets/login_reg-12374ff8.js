import{_,o as a,c as n,a as s,F as m,f as h,t as o,e as c,w as u,v as d,k as f}from"./index-12e9a619.js";const g={props:["form_title","email","is_register","server_errors"],data(){return{user_input:{username:"",email:"",password:""},errors:[]}},methods:{validateUsername(e){return this.is_register?/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(e):!0},validateEmail(e){return this.is_register?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e):!0},validatePassword(e){return this.is_register?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(e):!0},validateAll(){if(this.errors=[],this.user_input.username.length==0?this.errors.push("Username field is empty. Enter your username."):this.validateUsername(this.user_input.username)||this.errors.push("Please enter a valid username. It can only contain letters, numbers, hyphens, and underscores, and must start with a letter."),this.user_input.email.length==0&&this.is_register?this.errors.push("Email field is empty. Enter your email."):this.validateEmail(this.user_input.email)||this.errors.push("Please enter a valid email address."),this.user_input.password.length==0?this.errors.push("Password field is empty. Enter your password."):this.validatePassword(this.user_input.password)||this.errors.push("Please enter a stronger password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one digit, and one special character (!@#$%^&*)."),this.errors.length==0)return!0},redirect_to_parent(){this.validateAll()&&this.$emit("submit",this.user_input)}},watch:{email(e){this.user_input.email=e},server_errors(e){this.errors=this.errors.concat(e)}}},v={class:"card"},w={class:"card-body"},y={key:0,class:"form-group error_block"},P={class:"login_to_your_account"},b={class:"inputs"},E=s("hr",null,null,-1),k={class:"submit_btn"};function U(e,r,p,x,i,l){return a(),n("div",v,[s("div",w,[i.errors.length!=0?(a(),n("div",y,[s("ul",null,[(a(!0),n(m,null,h(i.errors,t=>(a(),n("li",null,[s("span",null,o(t),1)]))),256))])])):c("",!0),s("p",P,o(p.form_title),1),s("div",b,[u(s("input",{type:"text",class:"form-control",placeholder:"Username","onUpdate:modelValue":r[0]||(r[0]=t=>i.user_input.username=t)},null,512),[[d,i.user_input.username]]),u(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":r[1]||(r[1]=t=>i.user_input.password=t)},null,512),[[d,i.user_input.password]]),f(e.$slots,"default")]),E,s("div",k,[s("button",{class:"btn",type:"submit",onClick:r[2]||(r[2]=(...t)=>l.redirect_to_parent&&l.redirect_to_parent(...t))},"Submit")])])])}const V=_(g,[["render",U]]);export{V as l};
